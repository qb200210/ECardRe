<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
		<meta name="description" content="KnoWell, Not Only Know. By MickleStudios. Electronics Business Cards.">
		<meta name="author" content="">
		<link rel="icon" href="../../favicon.ico">

		<title>KnoWell &mdash; Not Only Know</title>

		<!-- Bootstrap core CSS -->
		<link href="../dist/css/bootstrap.min.css" rel="stylesheet">
		<link href="../assets/css/general.css" rel="stylesheet">
		<!-- Custom styles for this template -->
		<link href="../dist/css/cropper.css" rel="stylesheet">
		<link href="../dist/css/main.css" rel="stylesheet">
		<link href="../assets/css/nav-icon.css" rel="stylesheet">
		<link href="../assets/css/sticky-footer.css" rel="stylesheet">

		<script src="../assets/js/jquery.min.js"></script>

		<style type="text/css">


			.switcher {
				max-width: 300px;
				margin-bottom: auto;
				margin-top: 10px;
			}


			.infoicon{
				margin: 0px 0px 0px;

			}

			.infoicon .peritem {
				padding: 0px 5px 0px;
				margin: 5px auto 0px;
			}

			.infoicon img{
				width:  60px;
				height: 60px;
				margin: 0 0 0;
				padding: 10px 10px 10px;
				background-color:#00ffffff;
			}

			.container-card {
				min-width: 260px;
				max-width: 260px;
				padding: 10px 0px 10px;
				margin: 0px auto 20px;
				background-color: #fff;
				border: 1px solid #e5e5e5;
				-webkit-border-radius: 2px;
				-moz-border-radius: 2px;
				border-radius: 2px;
				-webkit-box-shadow: 0 1px 2px rgba(0,0,0,.05);
				-moz-box-shadow: 0 1px 2px rgba(0,0,0,.05);
				box-shadow: 0 1px 2px rgba(0,0,0,.05);
			}

			.maincard {
				width: 240px;
				vertical-align: top;
				padding: 0 3px 0;
				margin:0px auto 0px;
				background-color: #ffffff;
				overflow: auto
			}

			.toppart{
				display:table-cell;
				width: 230px;
				height: 100px;
				margin: 0 auto 0;
				vertical-align: middle;
			}
			.midpart{
				width: 230px;
				margin: 0 0 0;
			}

			.botpart{
				width: 230px;
				margin: 0 0 0;
			}

			.botpart p{
				display: inline;
				height: 100px;
				vertical-align: middle;

			}


			.profile {
				float: middle;
				width: 100px;
				height: 100px;
				margin: 0px auto 0px;
			}

			.profile_header {
				text-align: center;
				float: middle;
				width: 180px;
				margin: 0px auto 0px;
				padding: 0px 0px 0px;
			}

			.profile img {
				width: 100px;
				height: 100px;
			}

			.toppart .name {
				display:table-cell;
				vertical-align: middle;
				float: right;
				text-align:center;
				margin-left: 10px;
				padding-top: 20px;
				padding-left: 0px;
				padding-bottom: 0px;
				width: 120px;
				height:100px;
				max-width: 120px;
				max-height: 100px;
				overflow: hidden;
			}

			.toppart nameinput{
				width: 120px;
				height: 100px;
				display:table-cell;
				vertical-align: middle;

			}

			.hr {
				width: 100%;
				margin : 10px 0px 0px;
			}

			.aboutme_text {
				width: 100%;
				max-width: 100%;
				margin: 15px 0px 2px;
				padding: 10px 10px 10px;
			}

			.input_text {
				width: 100%;
				max-width: 100%;
				margin: 15px 0px 2px;
				padding: 10px 10px 10px;
			}

			.cropper_buttons {
				width: 100%;
				max-width: 100%;
				margin: 2px auto 2px;
				padding: 10px 10px 10px;
			}

		</style>

		<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
		<script src="../js/html5shiv.js"></script>
		<![endif]-->

		<!-- Fav and touch icons -->
		<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../ico/apple-touch-icon-144-precomposed.png">
		<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../ico/apple-touch-icon-114-precomposed.png">
		<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../ico/apple-touch-icon-72-precomposed.png">
		<link rel="apple-touch-icon-precomposed" href="../ico/apple-touch-icon-57-precomposed.png">
		<link rel="shortcut icon" href="../ico/favicon.png">


		<script>
			var flagRefreshHome = false;
			var flagCropPanel = false;
			var flagPortraitChanged = false;
			var fileString = "";
			var stringArray = ["about", "linkedin", "phone", "message", "email", "facebook", "twitter", "googleplus", "web"];


			function close_window() {
				if (confirm("Exit App?")) {
					window.close();
				}
			}

			function fill_content(infoitem) {
				document.getElementById(infoitem+'_dialog').value = document.getElementById(''+infoitem).value;
				document.getElementById(infoitem+'_dialog').style.display="inherit";
				document.getElementById('recorder').innerHTML = infoitem;
				switch(infoitem) {
					case 'about':
					document.getElementById('myModalLabel').innerHTML = 'Edit ' + 'About Me';
					break;
					case 'linkedin':
					document.getElementById('myModalLabel').innerHTML = 'Edit ' + 'LinkedIn Address';
					break;
					case 'phone':
					document.getElementById('myModalLabel').innerHTML = 'Edit ' + 'Phone No.';
					break;
					case 'message':
					document.getElementById('myModalLabel').innerHTML = 'Edit ' + 'SMS No.';
					break;
					case 'email':
					document.getElementById('myModalLabel').innerHTML = 'Edit ' + 'Email';
					break;
					case 'facebook':
					document.getElementById('myModalLabel').innerHTML = 'Edit ' + 'Facebook Address';
					break;
					case 'twitter':
					document.getElementById('myModalLabel').innerHTML = 'Edit ' + 'Twitter Address';
					break;
					case 'googleplus':
					document.getElementById('myModalLabel').innerHTML = 'Edit ' + 'Google+ Address';
					break;
					case 'web':
					document.getElementById('myModalLabel').innerHTML = 'Edit ' + 'Website Address';
					break;
					default:
					document.getElementById('myModalLabel').innerHTML = 'Edit ' + 'Something ...';
				}
			}

			function save_content(infoitem) {
				window.history.back();
				document.getElementById(''+infoitem).value = document.getElementById(infoitem+'_dialog').value;
				document.getElementById(infoitem+'_dialog').style.display="none";
				document.getElementById('textarea_feedback').style.display="none";
			}

			function dismiss_content(infoitem) {
				window.history.back();
				document.getElementById(infoitem+'_dialog').style.display="none";
				document.getElementById('textarea_feedback').style.display="none";
			}

			function delete_content(infoitem) {
				window.history.back();
				document.getElementById(infoitem+'_dialog').style.display="none";
				document.getElementById(infoitem+'_button').style.display="none";
				document.getElementById(''+infoitem).value = "";
				document.getElementById('list_'+infoitem).style.display="inherit";
				document.getElementById('textarea_feedback').style.display="none";
			}

			function goBack() {
				if(!flagRefreshHome){
					window.history.back();
				} else {
					window.location.replace("/");
				}

			}

			function doNothing(){
			}


			function dataURItoBlob(dataURI) {
				// convert base64/URLEncoded data component to raw binary data held in a string
				var byteString;
				if (dataURI.split(',')[0].indexOf('base64') >= 0)
				byteString = atob(dataURI.split(',')[1]);
				else
					byteString = unescape(dataURI.split(',')[1]);

					// separate out the mime component
					var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];

					// write the bytes of the string to a typed array
					var ia = new Uint8Array(byteString.length);
					for (var i = 0; i < byteString.length; i++) {
						ia[i] = byteString.charCodeAt(i);
					}

					return new Blob([ia], {type:mimeString});
				}

				function blobToFile(theBlob, fileName){
					//A Blob() is almost a File() - it's just missing the two properties below which we will add
					theBlob.lastModifiedDate = new Date();
					theBlob.name = fileName;
					return theBlob;
				}

				$(function() {
					$("textarea[maxlength]").bind('input propertychange', function() {
						var maxLength = $(this).attr('maxlength');
						$('#textarea_feedback').html((maxLength -$(this).val().length) +' characters remaining');
						if ($(this).val().length > maxLength) {
							$(this).val($(this).val().substring(0, maxLength));
						}
					})
				});

				var globalInfoitem = "";
				var flagAddItem = false;

				function additem(infoitem) {
					flagAddItem = true;
					globalInfoItem = infoitem;
					window.history.back();


				}

				$(document).ready(function(){

					$(function(){
						$('#addMoreModal').on('hidden.bs.modal', function(){
							var triggerer = function(){
								if(flagAddItem){
									flagAddItem = false;
									// alert(globalInfoItem);
									document.getElementById(globalInfoItem+'_button').style.display="inherit";
									document.getElementById('list_'+globalInfoItem).style.display="none";
									fill_content(globalInfoItem);
									$('#myModal').modal('show');
									document.getElementById('recorder').innerHTML = infoitem;
								}
							};
							setTimeout(triggerer, 300);

						});
					});


					$(function(){
						$('#saveResults').on('show.bs.modal', function(){
							var myModal = $(this);
							clearTimeout(myModal.data('hideInterval'));
							myModal.data('hideInterval', setTimeout(function(){
								window.history.back();
							}, 1000));
						});
					});

					$(".modal").on("shown.bs.modal", function()  { // any time a modal is shown
						var urlReplace = "#" + $(this).attr('id'); // make the hash the id of the modal shown
						history.pushState(null, null, urlReplace); // push state that hash into the url
					});

					// If a pushstate has previously happened and the back button is clicked, hide any modals.
					$(window).on('popstate', function() {
						$(".modal").modal('hide');
					});

					var $form = $('form');
					$form.submit(function(e){
						e.preventDefault();
						// post to server without refreshing page
						$.post($(this).attr('action'), $(this).serialize(), function(response){
							if(response.successful){
								document.getElementById("save_div").style.display="none";
								document.getElementById("textarea_feedback").style.display="none";
								$('#saveResults').modal('show');
								document.getElementById("display_save_results").innerHTML = "Successfully Saved!"
								window.location.replace("https://www.micklestudios.com");
								flagRefreshHome = true;
							} else {
								$('#saveResults').modal('show');
								document.getElementById("display_save_results").innerHTML = "Something wrong while saving ..."
							}
						},'json');
						return false;
					});
				});

				$(function() {
					//var file;// such definition caused significant pain in IE, basically when file is later referred to, it's either recognized, causing code hanging.

					$().cropper("setAspectRatio", 1);

					// Set an event listener on the Choose File field.
					$('#inputImage').bind("change", function(e) {
						var files = e.target.files || e.dataTransfer.files;

						// Our file var now holds the selected file
						// document.getElementById('inputImage').
						var file = files[0];
						fileString = file.name; // fileString is well-defined string variable and can be accessed later in IE, but file cannot

					});

					// This function is called when the user clicks on Upload to Parse. It will create the REST API request to upload this image to Parse.
					$('#uploadbutton').click(function() {

						document.getElementById("save_div_uploading_img").style.display="inherit";
						document.getElementById("save_div").style.display="none";
						var serverUrl = 'https://api.parse.com/1/files/' + fileString;

						var canvas = document.getElementById("canvas");
						canvas.width = 200;
						canvas.height = 200;
						scaling_factor = 200./$('.cropper-example-1 > img').cropper("getData").width;
						var img = document.getElementById("uploaded_img");
						var ctx = canvas.getContext('2d');

						rotate = $('.cropper-example-1 > img').cropper("getData").rotate;
						if(rotate == 0){
							original_x = $('.cropper-example-1 > img').cropper("getData").x;
							original_y = $('.cropper-example-1 > img').cropper("getData").y;
							ctx.scale(scaling_factor,scaling_factor);
							ctx.drawImage(img, -original_x, -original_y);
							ctx.restore();
						}
						if(rotate == 90 || rotate == -270){
							original_x = $('.cropper-example-1 > img').cropper("getData").y;
							original_y = $('.cropper-example-1 > img').cropper("getImageData").naturalHeight - $('.cropper-example-1 > img').cropper("getData").x;
							ctx.rotate(90.*Math.PI/180.);
							ctx.scale(scaling_factor,scaling_factor);
							ctx.drawImage(img, -original_x, -original_y);
							ctx.restore();
						}
						if(rotate == 180 || rotate == -180){
							original_x = $('.cropper-example-1 > img').cropper("getImageData").naturalWidth - $('.cropper-example-1 > img').cropper("getData").x;
							original_y = $('.cropper-example-1 > img').cropper("getImageData").naturalHeight - $('.cropper-example-1 > img').cropper("getData").y;
							ctx.rotate(180.*Math.PI/180.);
							ctx.scale(scaling_factor,scaling_factor);
							ctx.drawImage(img, -original_x, -original_y);
							ctx.restore();
						}
						if(rotate == 270 || rotate == -90){
							original_x = $('.cropper-example-1 > img').cropper("getImageData").naturalWidth - $('.cropper-example-1 > img').cropper("getData").y;
							original_y = $('.cropper-example-1 > img').cropper("getData").x;
							ctx.rotate(270.*Math.PI/180.);
							ctx.scale(scaling_factor,scaling_factor);
							ctx.drawImage(img, -original_x, -original_y);
							ctx.restore();
						}

						var dataURL = canvas.toDataURL('image/jpeg', 0.5);
						var blob = dataURItoBlob(dataURL);
						var myFile = blobToFile(blob, "portrait.png");


						$.ajax({
							type: "POST",
							beforeSend: function(request) {
								request.setRequestHeader("X-Parse-Application-Id", 'eXr5eE3ff6vTMkTqsWe373eVZbuOLtafn7mFwlI2');
								request.setRequestHeader("X-Parse-REST-API-Key", '8IsuYaBL1qcGJZYgWHqpsiweMs0BTblFEsXMzPCx');
								request.setRequestHeader("Content-Type", myFile.type);
							},
							url: serverUrl,
							data: myFile,
							processData: false,
							contentType: false,
							success: function(data) {
								// save cropbox size upon upload
								flagPortraitChanged = true;
								document.getElementById('img_url').value = data.url;
								document.getElementById("save_div_uploading_img").style.display="none";
								document.getElementById("save_div").style.display="inherit";
								document.getElementById('action').value = "save";
							},
							error: function(data) {
								var obj = jQuery.parseJSON(data);
								alert(obj.error);
							}
						});

					});


				});


				function imgSwitcher(saveChanges){

					if(saveChanges == 0){
						// 0: changed portrait
						offerSave(false);
						flagCropPanel = false;
						document.getElementById("canvas").style.display = "inherit";
						document.getElementById('portrait').style.display = "none";
						document.getElementById('crop_panel').style.display = "none";
						document.getElementById('crop_preview').style.display = "none";
					} else if (saveChanges == 1) {
						// 1: discarded portrait change
						if(flagPortraitChanged == false){
							document.getElementById('canvas').style.display = "none";
							document.getElementById('portrait').style.display = "inherit";
							document.getElementById('crop_preview').style.display = "none";
							document.getElementById('crop_panel').style.display = "none";
						} else {
							document.getElementById("canvas").style.display = "inherit";
							document.getElementById('crop_preview').style.display = "none";
							document.getElementById('crop_panel').style.display = "none";
						}
						flagCropPanel = false;
						document.getElementById('crop_panel').style.display = "none";
					} else {
						// neutral, only display/hide crop_panel
						flagCropPanel = true;
						// this is to trigger the image selection upon portrait click
						$('#inputImage').trigger('click');
						document.getElementById('canvas').style.display = "none";
						document.getElementById('portrait').style.display = "none";
						document.getElementById('crop_panel').style.display = "inherit";
						document.getElementById('crop_preview').style.display = "inherit";
					}

				}

				function offerSave(aboutme){
					if(aboutme) {
						document.getElementById("textarea_feedback").style.display="inherit";
					}
					if(!flagPortraitChanged){
						document.getElementById("save_div").style.display="inherit";
					}
				}

			</script>

		</head>

		<body>
			<!-- Navbar
			================================================== -->

			<nav class="navbar navbar-inverse navbar-fixed-top">
				<div class="container">
					<div class="navbar-header">
						<a class="navbar-brand home" href="javascript:void(0)" onclick="goBack();"></a>
					</div>
				</div>
			</nav>

			<!-- General Modal -->
			<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static">
				<div class="modal-dialog modal-lg">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" onclick="window.history.back();" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h4 class="modal-title" id="myModalLabel"></h4>
						</div>
						<div class="modal-body">
							<textarea placeholder="Highlight and summary of myself." maxlength="1000" id="about_dialog" class="aboutme_text" rows="3" onchange="offerSave(true);" onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();"></textarea>
							<small id="textarea_feedback" style="padding: 0px 5px 0px; display: none"></small>
							<input class="input-small input_text" placeholder="My phone number" id="phone_dialog" type="text" style="display: none" onchange="offerSave(false);" onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();">
							<input class="input-small input_text" placeholder="My number that can receive text messages"  id="message_dialog" type="text" style="display: none" onchange="offerSave(false);" onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();">
							<input class="input-small input_text" placeholder="My email address"  id="email_dialog" type="text" style="display: none" onchange="offerSave(false);" onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();">
							<input class="input-small input_text" placeholder="Paste the link to my LinkedIn profile here"  id="linkedin_dialog" type="text" style="display: none" onchange="offerSave(false);" onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();">
							<input class="input-small input_text" placeholder="Paste the link to my Facebook profile here"  id="facebook_dialog" type="text" style="display: none" onchange="offerSave(false);" onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();">
							<input class="input-small input_text" placeholder="Paste the link to my Twitter profile here"  id="twitter_dialog" type="text" style="display: none" onchange="offerSave(false);" onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();">
							<input class="input-small input_text" placeholder="Paste the link to my Google+ profile here"  id="googleplus_dialog" type="text" style="display: none" onchange="offerSave(false);" onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();">
							<input class="input-small input_text" placeholder="Paste the link to my website here"  id="web_dialog" type="text" style="display: none" onchange="offerSave(false);" onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();">
							<p id="recorder" style="display: none"></p>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default"   onclick="javascript:dismiss_content(document.getElementById('recorder').innerHTML);">Cancel</button>
							<button type="button" class="btn btn-default"   onclick="javascript:delete_content(document.getElementById('recorder').innerHTML);">Delete</button>
							<button type="button" class="btn btn-primary"   onclick="javascript:save_content(document.getElementById('recorder').innerHTML);">Save changes</button>
						</div>
					</div>
				</div>
			</div>

			<!-- AddMore Modal -->
			<div class="modal fade" id="addMoreModal" tabindex="-1" role="dialog" aria-labelledby="addMoreModalLabel" aria-hidden="true" data-backdrop="static">
				<div class="modal-dialog modal-sm">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" onclick="window.history.back();" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h4 class="modal-title" id="addMoreModalLabel">Add Info</h4>
						</div>
						<div class="modal-body">
							<div class="list-group">
								<li class="list-group-item" id="list_about" onclick="javascript:additem('about')"  style="display : inherit"><img src="../assets/img/me.png" style="width: 24px; height:24px; margin-right: 20px;">About Me</li>
								<li class="list-group-item" id="list_phone" onclick="javascript:additem('phone')"   style="display : inherit"><img src="../assets/img/phone.png" style="width: 24px; height:24px; margin-right: 20px;">Phone</li>
								<li class="list-group-item" id="list_message" onclick="javascript:additem('message')"   style="display : inherit"><img src="../assets/img/message.png" style="width: 24px; height:24px; margin-right: 20px;">SMS</li>
								<li class="list-group-item" id="list_email" onclick="javascript:additem('email')"   style="display : inherit"><img src="../assets/img/mail.png" style="width: 24px; height:24px; margin-right: 20px;">Email</li>
								<li class="list-group-item" id="list_linkedin" onclick="javascript:additem('linkedin')"   style="display : inherit"><img src="../assets/img/linkedin.png" style="width: 24px; height:24px; margin-right: 20px;">LinkedIn</li>
								<li class="list-group-item" id="list_facebook" onclick="javascript:additem('facebook')"   style="display : inherit"><img src="../assets/img/facebook.png" style="width: 24px; height:24px; margin-right: 20px;">Facebook</li>
								<li class="list-group-item" id="list_twitter" onclick="javascript:additem('twitter')"   style="display : inherit"><img src="../assets/img/twitter.png" style="width: 24px; height:24px; margin-right: 20px;">Twitter</li>
								<li class="list-group-item" id="list_googleplus" onclick="javascript:additem('googleplus')"   style="display : inherit"><img src="../assets/img/googleplus.png" style="width: 24px; height:24px; margin-right: 20px;">Google+</li>
								<li class="list-group-item" id="list_web" onclick="javascript:additem('web')"   style="display : inherit"><img src="../assets/img/web.png" style="width: 24px; height:24px; margin-right: 20px;">Website</li>
							</div>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default" onclick="window.history.back();">Cancel</button>
						</div>
					</div>
				</div>
			</div>

			<div class="modal fade bs-example-modal-sm" id="saveResults" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true" data-backdrop="static">
				<div class="modal-dialog modal-sm">
					<div class="modal-content">
						<div class="modal-body">
							<p id="display_save_results"></p>
						</div>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="container">
					<div class="col-md-6 col-md-offset-3">
						<div class="row" style="margin-bottom:50px">
							<div class="col-md-6 "  style="min-width: 280px;">

								<div class="container-card" id="header_div" style="padding: 10px;">
									<!-- The actual button has to be placed inside <form></form> wrapper or IE doesn't honor it -->
									<div class="profile_header">
										<p style="margin: 0 0 0;"><b>Complete my profile</b></p>
									</div>
								</div>

								<div id="crop_panel" class="container-card" style="display:none">
									<!-- Ack: http://fengyuanchen.github.io/cropper/ -->
									<div class="img-container cropper-example-1" style="height:260px;">
										<img src="" alt="Upload a Picture" style="height:260px;" id="uploaded_img">
									</div>
									<div class="cropper_buttons" style="margin-left: 10px">
										<div class="btn-group">
											<label class="btn btn-primary btn-upload" for="inputImage" title="Upload image file">
												<input class="sr-only" id="inputImage" name="file" type="file" accept="image/*" form="fileupload">
												<span class="docs-tooltip" data-toggle="tooltip" title="Import image">
													<span class="icon icon-upload"></span>
												</span>
											</label>
										</div>
										<button class="btn btn-primary" data-method="zoom" data-option="0.1" type="button" title="Zoom In">
											<span class="docs-tooltip" data-toggle="tooltip" title="Zoom In">
												<span class="icon icon-zoom-in"></span>
											</span>
										</button>
										<button class="btn btn-primary" data-method="zoom" data-option="-0.1" type="button" title="Zoom Out">
											<span class="docs-tooltip" data-toggle="tooltip" title="Zoom Out">
												<span class="icon icon-zoom-out"></span>
											</span>
										</button>
										<button class="btn btn-primary" data-method="rotate" data-option="-90" type="button" title="Rotate Counter-Clockwise">
											<span class="docs-tooltip" data-toggle="tooltip" title="Rotate Counter-Clockwise">
												<span class="icon icon-rotate-left"></span>
											</span>
										</button>
										<button class="btn btn-primary" data-method="rotate" data-option="90" type="button" title="Rotate Clockwise">
											<span class="docs-tooltip" data-toggle="tooltip" title="Rotate Clockwise">
												<span class="icon icon-rotate-right"></span>
											</span>
										</button>
									</div>
									<div style="padding: 10px">
										<button id="uploadbutton" class="btn btn-primary btn-block" type="button" onclick="javascript:imgSwitcher(0);">Save</button>
										<button class="btn btn-default btn-block" type="button" onclick="javascript:imgSwitcher(1);">Cancel</button>
									</div>

								</div>



								<div class="container-card">
									<form id="designForm" class="maincard" action='/savedesign' method='POST'>

										<div class="toppart">
											<div class="profile_header">
												<p style="margin: 0 0 5px;">Add my portrait</p>
											</div>
											<div class="profile">
												<img id="portrait" src="<%=portrait_url%>" class="profile" style="display:inherit" onclick="javascript:imgSwitcher(2);">
												<canvas id="canvas" style="width: 100px; height: 100px; display: none" onclick="javascript:imgSwitcher(2);"></canvas>
												<div id="crop_preview" class="img-preview preview-md" style="display:none" onclick="javascript:imgSwitcher(2);"></div>
											</div>
										</div>
										<div class="midpart">
											<hr class= "hr">
										</div>
										<div class="botpart">
											<address style="margin-top: 10px">
												<p style="margin-bottom: 0px; color:grey;">My name:</p>
												<input id="name" name="name" class="input-small" style="width: 230px" type="text" value="" placeholder="E.g.: George Washington" onchange="offerSave(false);" onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();"><br>
												<p style="margin-bottom: 0px; color:grey;">My job title:</p>
												<input id="title" name="title" class="input-small" style="width: 230px" type="text" value="" placeholder="E.g.: Math Instructor" onchange="offerSave(false);" onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();"><br>
												<p style="margin-bottom: 0px; color:grey;">I work for:</p>
												<input id="company" name="company" class="input-small" style="width: 230px" type="text" value="" placeholder="E.g.: Alpha University" onchange="offerSave(false);" onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();"><br>
												<p style="margin-bottom: 0px; color:grey;">I work at:</p>
												<input id="city" name="city" class="input-small" style="width: 230px" type="text" value="" placeholder="E.g.: Portland, OR" onchange="offerSave(false);" onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();"><br>

											</address>
										</div>
										<input type="hidden" name="_csrf" value="<%= csrf_field %>" style="display:none"/>
										<input type="hidden"  id="about" name="about" form="designForm" value="" style="display:none">
										<input type="hidden"  id="phone" name="phone" form="designForm" value="" style="display:none">
										<input type="hidden"  id="message" name="message" form="designForm" value="" style="display:none">
										<input type="hidden"  id="email" name="email" form="designForm" value="<%=email%>" style="display:none">
										<input type="hidden"  id="linkedin" name="linkedin" form="designForm" value="" style="display:none">
										<input type="hidden"  id="facebook" name="facebook" form="designForm" value="" style="display:none">
										<input type="hidden"  id="twitter" name="twitter" form="designForm" value="" style="display:none">
										<input type="hidden"  id="googleplus" name="googleplus" form="designForm" value="" style="display:none">
										<input type="hidden"  id="web" name="web" form="designForm" value="" style="display:none">
										<input type="hidden"  id="img_url" name="img_url" form="designForm" value="" style="display:none">
										<input type="hidden"  id="action" name="action" form="designForm" value="" style="display:none">
										<input id="save_button" class="btn btn-md btn-primary btn-block" type="submit" form="designForm" name="action" style="display:none">
									</form>
								</div>
							</div>

							<div class="col-md-6 "  style="min-width: 280px;">
								<div id="contact" class="container-card" style="display : inherit">
									<div class="maincard">
										<div class="profile_header">
											<p style="margin: 0 0 0;">Add info about myself</p>
										</div>
										<div class="container-fluid" style="padding: 0px 0px 0px;">
											<div class="row infoicon">
												<div id="about_button" class="col-xs-4 col-sm-4 peritem" style="display : none">
													<img src="../assets/img/me.png"  class="img-responsive" data-toggle="modal" data-target="#myModal" data-backdrop="static" onclick="javascript:fill_content('about');">
												</div>
												<div id="email_button" class="col-xs-4 col-sm-4 peritem" style="display : none">
													<img src="../assets/img/mail.png"  class="img-responsive" data-toggle="modal" data-target="#myModal" data-backdrop="static" onclick="javascript:fill_content('email');">
												</div>
												<div id="message_button" class="col-xs-4 col-sm-4 peritem" style="display : none">
													<img src="../assets/img/message.png"  class="img-responsive" data-toggle="modal" data-target="#myModal" data-backdrop="static" onclick="javascript:fill_content('message');">
												</div>
												<div id="phone_button" class="col-xs-4 col-sm-4 peritem" style="display : none">
													<img src="../assets/img/phone.png"  class="img-responsive" data-toggle="modal" data-target="#myModal" data-backdrop="static" onclick="javascript:fill_content('phone');">
												</div>
												<div id="web_button" class="col-xs-4 col-sm-4 peritem" style="display : none">
													<img src="../assets/img/web.png"  class="img-responsive" data-toggle="modal" data-target="#myModal" data-backdrop="static" onclick="javascript:fill_content('web');">
												</div>
												<div id="linkedin_button" class="col-xs-4 col-sm-4 peritem" style="display : none">
													<img src="../assets/img/linkedin.png"  class="img-responsive" data-toggle="modal" data-target="#myModal" data-backdrop="static" onclick="javascript:fill_content('linkedin');">
												</div>
												<div id="facebook_button" class="col-xs-4 col-sm-4 peritem" style="display : none">
													<img src="../assets/img/facebook.png"  class="img-responsive" data-toggle="modal" data-target="#myModal" data-backdrop="static" onclick="javascript:fill_content('facebook');">
												</div>
												<div id="twitter_button" class="col-xs-4 col-sm-4 peritem" style="display : none">
													<img src="../assets/img/twitter.png"  class="img-responsive" data-toggle="modal" data-target="#myModal" data-backdrop="static" onclick="javascript:fill_content('twitter');">
												</div>
												<div id="googleplus_button" class="col-xs-4 col-sm-4 peritem" style="display : none">
													<img src="../assets/img/googleplus.png"  class="img-responsive" data-toggle="modal" data-target="#myModal" data-backdrop="static" onclick="javascript:fill_content('googleplus');">
												</div>
												<div class="col-xs-4 col-sm-4 peritem">
													<img src="../assets/img/addmore.png"  class="img-responsive" data-toggle="modal" data-target="#addMoreModal" onclick="">
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="container-card" id="save_div_uploading_img" style="display: none; padding: 10px;">
									<p style="text-align: center;">Processing Portrait ...</p>
								</div>
								<div class="container-card" id="save_div" style="display: none; padding: 10px;">
									<!-- The actual button has to be placed inside <form></form> wrapper or IE doesn't honor it -->
									<button class="btn btn-md btn-primary btn-block" onclick="$('#save_button').trigger('click');">That's it!</button>
								</div>

							</div>
						</div>
					</div>
				</div>
			</div>


			<script>
				for(var j=0; j< stringArray.length ; j++){
					if(document.getElementById(stringArray[j]).value != 'undefined' && document.getElementById(stringArray[j]).value != ''){
						document.getElementById(stringArray[j]+"_button").style.display="inherit";
						document.getElementById('list_'+stringArray[j]).style.display="none";
						document.getElementById(stringArray[j]+'_dialog').style.display="none";
					} else{
						document.getElementById(stringArray[j]).value = "";
						document.getElementById(stringArray[j]+'_dialog').style.display="none";
					}
				}
			</script>


			<!-- Bootstrap core JavaScript
			================================================== -->
			<!-- Placed at the end of the document so the pages load faster -->
			<script src="../dist/js/bootstrap.min.js"></script>
			<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
			<script src="../assets/js/ie10-viewport-bug-workaround.js"></script>
			<script src="../dist/js/cropper.js"></script>
			<script src="../dist/js/main.js"></script>


		</body>
	</html>
